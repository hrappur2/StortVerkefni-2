{"version":3,"sources":["script.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["document.addEventListener('DOMContentLoaded', function() {\r\n  program.init();\r\n});\r\n\r\nvar program = (function() {\r\n  var videolist;\r\n\r\n  function showData(data) { //sækir gögn og býr til element\r\n    const lengd = data.categories.length; //hversu margir flokkar\r\n\r\n      for (var i=0; i<lengd; i++) { //búum til element fyrir alla flokka\r\n        createElement(data, i);\r\n    }\r\n  }\r\n\r\n  function createElement(data, index) {\r\n    const a = document.createElement('div');\r\n    a.classList.add('videolist__category');\r\n    const h2 = document.createElement('h2'); //element fyrir category titil\r\n    const r1 = document.createElement('div');\r\n    const c1 = document.createElement('div');\r\n    h2.classList.add('videolist__h2');\r\n\r\n    r1.classList.add('row');\r\n    c1.classList.add('col-12');\r\n\r\n    h2.innerHTML = data.categories[index].title;\r\n\r\n    c1.appendChild(h2);\r\n    r1.appendChild(c1);\r\n    a.appendChild(r1);\r\n\r\n    const section = document.createElement('section');\r\n    const r2 = document.createElement('div');\r\n    const c2 = document.createElement('div');\r\n    r2.classList.add('row-center');\r\n    c2.classList.add('col');\r\n    c2.classList.add('col-10');\r\n    c2.classList.add('videolist__line');\r\n    r2.appendChild(c2);\r\n\r\n    section.appendChild(a);\r\n    section.appendChild(r2);\r\n\r\n    videolist.appendChild(section);\r\n\r\n    const b = document.createElement('div');\r\n    b.classList.add('videolist__videos');\r\n    b.classList.add('row');\r\n    a.appendChild(b);\r\n\r\n    const lengd = data.categories[index].videos.length; //lengd video fylkisins fyrir viðkomandi category\r\n\r\n    //ATH eftir að adda link á myndir og ná í tímaupplýsingar úr json\r\n    for (var i=0; i<lengd; i++) {\r\n      var id = data.categories[index].videos[i];\r\n\r\n      var c = document.createElement('div');\r\n      c.classList.add('videolist__videoData');\r\n      c.classList.add('col');\r\n      c.classList.add('col-4');\r\n      c.classList.add('col-sm-6');\r\n      c.classList.add('col-sms-12');\r\n      b.appendChild(c);\r\n\r\n      var d = document.createElement('a');\r\n      d.setAttribute('id', data.videos[id-1].id);\r\n      const videoid = data.videos[id-1].id;\r\n      d.setAttribute('href', 'video.html?id=' + videoid);\r\n      d.classList.add('videolist__posterAndDuration');\r\n      c.appendChild(d);\r\n\r\n      var e = document.createElement('img'); //ATH á eftir að adda link á myndirnar\r\n      e.setAttribute('src', data.videos[id-1].poster);\r\n      e.classList.add('videolist__poster');\r\n      d.appendChild(e);\r\n\r\n      var f = document.createElement('h4');\r\n      f.classList.add('videolist__duration');\r\n      var dur = data.videos[id-1].duration;\r\n      var minutes = Math.floor(dur / 60);\r\n      var seconds = dur - minutes * 60;\r\n      if ((seconds/10) < 1) seconds = '0' + seconds; //ef sekúndur eru undir 10\r\n      f.innerHTML = minutes + \":\" + seconds;\r\n      d.appendChild(f);\r\n\r\n      var g = document.createElement('h4');\r\n      g.classList.add('videolist__title');\r\n      g.innerHTML = data.videos[id-1].title;\r\n      c.appendChild(g);\r\n\r\n      const created = Date.now() - data.videos[id-1].created; //ms síðan var uploadað\r\n      const s = created / 1000; //sec síðan uploadað\r\n      const days = Math.floor(s / (60 * 60 * 24));\r\n      const hours = Math.floor(s / (60 * 60));\r\n      var strengur;\r\n      if ((days/365) >= 1) {\r\n        const a = parseInt(days/365);\r\n        if (a == 1) strengur = 'Fyrir 1 ári síðan';\r\n        else strengur = 'Fyrir ' + a + ' árum síðan';\r\n      }\r\n      else if ((days/30) >= 1) {\r\n        const a = parseInt(days/30);\r\n        if (a == 1) strengur = 'Fyrir 1 mánuði síðan';\r\n        else strengur = 'Fyrir ' + a + ' mánuðum síðan';\r\n      }\r\n      else if ((days/7) >= 1) {\r\n        const a = parseInt(days/7);\r\n        if (a == 1) strengur = 'Fyrir 1 viku síðan';\r\n        else strengur = 'Fyrir ' + a + ' vikum síðan';\r\n      }\r\n      else if ((days) >= 1) {\r\n        const a = parseInt(days);\r\n        if (a == 1) strengur = 'Fyrir 1 degi síðan';\r\n        else strengur = 'Fyrir ' + a + ' dögum síðan';\r\n      }\r\n      else {\r\n        const a = parseInt(hours);\r\n        if (a == 1) strengur = 'Fyrir 1 klukkustund síðan';\r\n        else strengur = 'Fyrir ' + a + ' klukkustundum síðan';\r\n      }\r\n      console.log(strengur);\r\n\r\n      var h = document.createElement('div');\r\n      h.classList.add('videolist__created');\r\n      h.innerHTML = strengur;\r\n      c.appendChild(h);\r\n    }\r\n  }\r\n\r\n  function displayvideo() {\r\n    const getlocal = window.localStorage.getItem('datastore');\r\n    const localparse = JSON.parse(getlocal);\r\n    const videodisplay = document.querySelector('.videodisplay');\r\n    const video = document.createElement('div');\r\n    video.classList.add('videoplay__video');\r\n    const source = document.createElement('video');\r\n    source.setAttribute('autoplay','');\r\n    source.classList.add('videoplay__source');\r\n    var url = window.location.href;\r\n    var urlid = url.substring(url.length-1);\r\n    var playme;\r\n    var playmetitle;\r\n    var iflength = localparse.videos.length;\r\n    if (urlid <= iflength) {\r\n      playme = localparse.videos[urlid-1].video;\r\n      playmetitle = localparse.videos[urlid-1].title;\r\n    }\r\n    else {\r\n      console.log('vantar error display herna');\r\n    }\r\n    const h1video = document.createElement('h1');\r\n    h1video.classList.add('videoplay__h1');\r\n    const jsontitle = JSON.stringify(playmetitle);\r\n    h1video.textContent = jsontitle.substring(1, jsontitle.length-1);\r\n    const h1coldiv = document.createElement('div');\r\n    h1coldiv.classList.add('col');\r\n    h1coldiv.classList.add('col-8');\r\n    h1coldiv.appendChild(h1video);\r\n\r\n    source.setAttribute('src', playme);\r\n    video.appendChild(source);\r\n\r\n    const r3 = document.createElement('div');\r\n    r3.appendChild(h1coldiv);\r\n    r3.classList.add('row-center');\r\n    video.classList.add('col');\r\n    video.classList.add('col-8');\r\n\r\n    r3.appendChild(video);\r\n\r\n    videodisplay.appendChild(r3);\r\n  }\r\n\r\n  function readJSON(data) { //fall til að lesa videos.json\r\n    var url = 'videos.json'; //verður að keyra live server svo virki!\r\n    var kappa = 'results.videos[0]';\r\n    //showLoading();\r\n    var r = new XMLHttpRequest();\r\n    r.open('GET', url, true);\r\n    r.onload = function() {\r\n      if (r.status >= 200 && r.status < 400) {\r\n        var results = JSON.parse(r.response); //'global' breyta\r\n        window.localStorage.setItem('datastore', JSON.stringify(results));\r\n        showData(results); //sendum gögnin í showData fallið\r\n      }\r\n    }; //gera ráðstafanir fyrir errors?\r\n    r.send();\r\n  }\r\n\r\n  function init() {\r\n    videolist = document.querySelector('.videolist'); //divið í index.html\r\n\r\n    if (videolist !== null) {\r\n      const h1 = document.createElement('h1');\r\n      h1.textContent = 'Myndbandaleigan';\r\n      videolist.appendChild(h1);\r\n      readJSON(); //lesum videos.json\r\n    }\r\n    else {\r\n      displayvideo();\r\n    }\r\n  }\r\n\r\n  return {\r\n    init: init\r\n  }\r\n})();\r\n"]}